<% add_contextual_menu_item :purchase_order do %>
  <%= display_purchase_order_add_button unless is_new_view? or (params[:action] == "prepare_for_new") %>
  <%= display_purchase_order_show_button(@purchase_order) if is_edit_view? %>
  <%= display_purchase_order_edit_button(@purchase_order) if is_show_view? %>
  <%= display_purchase_order_delete_button(@purchase_order) if is_show_view? or is_edit_view? %>
<% end %>

<% add_contextual_menu_item :useful_links do %>
  <%= pending_purchase_orders_link(:link_text => "Voir les ordres d'achats en cours") %>
  <%= closed_purchase_orders_link(:link_text => "Voir les ordres d'achats terminés") unless is_index_view? and params['filter'] != PurchaseOrder::STATUS_CANCELLED %>
  <%= link_to (image_tag("list_16x16.png", :alt => list_text = "Voir les ordres d'achats terminés et ceux annulés", :title => list_text) + " " + list_text, 
  :controller => "closed_purchase_orders", "action" => 'index', :filter => PurchaseOrder::STATUS_CANCELLED ) unless is_index_view? and params['filter'] %>
<% end %>
